<!DOCTYPE HTML>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/open-props"/>
<link rel="stylesheet" href="https://unpkg.com/open-props/gradients.min.css"/>

<link rel="preconnect" href="https://fonts.bunny.net">
<link href="https://fonts.bunny.net/css?family=saira-stencil-one:400|audiowide:400|plus-jakarta-sans:300|comfortaa:700|roboto-mono:300" rel="stylesheet" />

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
crossorigin=""></script>

<style>
* {
  box-sizing: border-box;
}
html, body {
  padding: 0;
  margin: 0;
}
body {
  background-color: white;
}
.dark body {
  background-color: var(--gray-9);
}

header {
  /* background: var(--gradient-29); */
  /* box-shadow: var(--shadow-3); */
  padding: var(--size-4);
  display: grid;
  gap: 0;
  grid-template-columns: calc(100% - 24px) 24px;
}
h1 {
  margin: 0;
  font-size: var(--font-size-3);
  font-family: 'Audiowide', display;
  color: white;
  display: inline;

  background: var(--gradient-29); /* linear-gradient(0.25turn, #3f87a6, #ebf8e1, #f69d3c); */
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
}
#toggle-dark-and-light {
  /* padding-right: var(--size-8); */
  cursor: pointer;
  display: grid;
  place-content: center;
}

#toggle-dark-and-light {
  background: center / contain no-repeat url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23bac8ff%22%3E%3Cpath%20d%3D%22M12%2010.999c1.437.438%202.562%201.564%202.999%203.001.44-1.437%201.565-2.562%203.001-3-1.436-.439-2.561-1.563-3.001-3-.437%201.436-1.562%202.561-2.999%202.999zm8.001.001c.958.293%201.707%201.042%202%202.001.291-.959%201.042-1.709%201.999-2.001-.957-.292-1.707-1.042-2-2-.293.958-1.042%201.708-1.999%202zm-1-9c-.437%201.437-1.563%202.562-2.998%203.001%201.438.44%202.561%201.564%203.001%203.002.437-1.438%201.563-2.563%202.996-3.002-1.433-.437-2.559-1.564-2.999-3.001zm-7.001%2022c-6.617%200-12-5.383-12-12s5.383-12%2012-12c1.894%200%203.63.497%205.37%201.179-2.948.504-9.37%203.266-9.37%2010.821%200%207.454%205.917%2010.208%209.37%2010.821-1.5.846-3.476%201.179-5.37%201.179z%22%2F%3E%3C%2Fsvg%3E');
}
.dark #toggle-dark-and-light {
  background: center / contain no-repeat url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23bac8ff%22%3E%3Cpath%20d%3D%22M22.088%2013.126l1.912-1.126-1.912-1.126c-1.021-.602-1.372-1.91-.788-2.942l1.093-1.932-2.22-.02c-1.185-.01-2.143-.968-2.153-2.153l-.02-2.219-1.932%201.093c-1.031.583-2.34.233-2.941-.788l-1.127-1.913-1.127%201.913c-.602%201.021-1.91%201.372-2.941.788l-1.932-1.093-.02%202.219c-.01%201.185-.968%202.143-2.153%202.153l-2.22.02%201.093%201.932c.584%201.032.233%202.34-.788%202.942l-1.912%201.126%201.912%201.126c1.021.602%201.372%201.91.788%202.942l-1.093%201.932%202.22.02c1.185.01%202.143.968%202.153%202.153l.02%202.219%201.932-1.093c1.031-.583%202.34-.233%202.941.788l1.127%201.913%201.127-1.913c.602-1.021%201.91-1.372%202.941-.788l1.932%201.093.02-2.219c.011-1.185.969-2.143%202.153-2.153l2.22-.02-1.093-1.932c-.584-1.031-.234-2.34.788-2.942zm-10.117%206.874c-4.411%200-8-3.589-8-8s3.588-8%208-8%208%203.589%208%208-3.589%208-8%208zm6.029-8c0%203.313-2.687%206-6%206s-6-2.687-6-6%202.687-6%206-6%206%202.687%206%206z%22%2F%3E%3C%2Fsvg%3E');
}

.dark h1 {
  /* background-color: rgba(0,0,0,0.6); */
}
.dark #toggle-dark-and-light {
  /* background-color: rgba(0,0,0,0.6); */
}
main {
  padding: 0 var(--size-4) var(--size-4) var(--size-4);
}
article {
  padding: 0 0 var(--size-6) 0;
}
button {
  background: var(--gradient-29);
  border: none;
  cursor: pointer;
  padding: var(--size-2);
  width: 100%;
  margin: 0;
  font-size: var(--font-size-2);
  border-radius: var(--radius-2);
  /* font-family: 'Roboto Mono', sans-serif; */
  font-family: 'Audiowide', display;
  color: white;
  /* box-shadow: var(--shadow-2); */
}
button:hover {
  filter: brightness(110%);
}

label {
  display: block;
  color: var(--gray-5);
  /* padding: 0 0 var(--size-1) 0; */
  font-family: 'Roboto Mono', sans-serif;
  font-size: var(--font-size-1);
}

input[type="text"] {
  display: block;
  width: 100%;
  padding: var(--size-2);
  font-size: var(--font-size-2);
  border-width: var(--border-size-2);
  border-color: var(--gray-3);
  background-color: var(--gray-1);
  color: var(--gray-8);
  border-radius: var(--radius-2);
  border-style: none;
  font-family: 'Roboto Mono', sans-serif;
  letter-spacing: 1px;
}
.dark input[type="text"] {
  border-color: var(--gray-7);
  background-color: var(--gray-8);
  color: var(--gray-1);
}
.dark input[type="text"]:focus {
  outline: var(--indigo-3) solid var(--border-size-2);
}
input[type="text"].latitude {
  background-image: url("./images/latitude2.svg");
  background-position: 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.2rem 1.2rem;
  padding-left: 2.4rem;
}
input[type="text"].longitude {
  background-image: url("./images/longitude2.svg");
  background-position: 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.2rem 1.2rem;
  padding-left: 2.4rem;
}

svg.pin {
  filter: drop-shadow(0 0 0.3rem rgba(0,0,0,0.1));
}

ul {
  padding: var(--size-2) 0 0 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: center;
  background-color: var(--gray-1);
  border-radius: var(--radius-2);
}
.dark ul {
  background-color: var(--gray-8);
}
ul li {
  flex: 1;
  display: block;
  padding: var(--size-1) var(--size-2);
  border-radius: var(--radius-2);
  font-family: 'Roboto Mono', monospace;
  list-style: none;
  font-size: var(--font-size-1);
  color: var(--gray-6);
  text-align: center;
  margin: 0 var(--size-2) var(--size-2) var(--size-2);
  background-color: white;
}
.dark ul li {
  background-color: var(--gray-9);
}

#map {
  /* border-radius: var(--radius-2); */
  height: 50vh;
}

.grid {
  display: grid;
  --cell-gap: var(--size-4);
  gap: var(--cell-gap);
  --icon-width: 48px;
  --icon-width-half: calc(var(--icon-width) / 2);
  /* grid-template-columns: var(--icon-width) calc(50% - var(--icon-width-half) - var(--cell-gap)) calc(50% - var(--icon-width-half) - var(--cell-gap)); */
  grid-template-columns: repeat(3, 1fr);
}
.grid2 {
  display: grid;
  --cell-gap: var(--size-4);
  gap: var(--cell-gap);
  --icon-width: 48px;
  --icon-width-half: calc(var(--icon-width) / 2);
  /* grid-template-columns: var(--icon-width) calc(50% - var(--icon-width-half) - var(--cell-gap)) calc(50% - var(--icon-width-half) - var(--cell-gap)); */
  grid-template-columns: repeat(3, 1fr);
  margin-top: var(--cell-gap);
}
.grid-buttons {
  display: grid;
  --cell-gap: var(--size-4);
  gap: var(--cell-gap);
  --icon-width: 48px;
  --icon-width-half: calc(var(--icon-width) / 2);
  /* grid-template-columns: var(--icon-width) calc(50% - var(--icon-width-half) - var(--cell-gap)) calc(50% - var(--icon-width-half) - var(--cell-gap)); */
  grid-template-columns: repeat(3, 1fr);
  margin-top: var(--cell-gap);
}

@media screen and (min-width: 800px) {
  header {
    padding: var(--size-6) var(--size-8);
  }
  main {
    padding: 0 var(--size-8) var(--size-8) var(--size-8);
  }
  .grid {
    display: grid;
    --cell-gap: var(--size-4);
    gap: var(--cell-gap);
    --gap-1-4: calc(var(--cell-gap) / 4);
    --icon-width: 48px;
    --icon-width-half: calc(var(--icon-width) / 2);
    /* grid-template-columns: var(--icon-width) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) var(--icon-width) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)); */
    /* grid-template-columns: repeat(3, 1fr); */
    grid-template-columns: 12rem auto auto;
  }
  .grid2 {
    display: grid;
    --cell-gap: var(--size-4);
    gap: var(--cell-gap);
    --gap-1-4: calc(var(--cell-gap) / 4);
    --icon-width: 48px;
    --icon-width-half: calc(var(--icon-width) / 2);
    /* grid-template-columns: var(--icon-width) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) var(--icon-width) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)); */
    /* grid-template-columns: repeat(3, 1fr); */
    grid-template-columns: 12rem 10rem auto;
  }
  .grid-buttons {
    display: grid;
    --cell-gap: var(--size-4);
    gap: var(--cell-gap);
    --gap-1-4: calc(var(--cell-gap) / 4);
    --icon-width: 48px;
    --icon-width-half: calc(var(--icon-width) / 2);
    /* grid-template-columns: var(--icon-width) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) var(--icon-width) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)) calc(25% - var(--icon-width-half) - var(--cell-gap) - var(--gap-1-4)); */
    /* grid-template-columns: repeat(3, 1fr); */
    grid-template-columns: 1fr 1fr;
  }
}
.cell-pin {
  display: flex;
  align-items: flex-end;
}

#reset {
  border-width: 1px;
  border-style: solid;
  border-color: var(--gray-7);
  background: none;
  color: var(--gray-5);
}
.wrapper-toggle-switch {
  height: 2.7rem;
  padding: 0.5rem 0 0 0;
  /* background-color: white; */
  /* border: solid 1px white; */
}

.wrapper-range {
  height: 2.7rem;
  /* background-color: var(--gray-8); */
  /* border-radius: var(--radius-2); */
  /* border: solid var(--gray-8) 2px; */
  padding: 0.3rem 0 0 0;
}

</style>

<style>
/* Range */

input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  cursor: pointer;

  background-color: var(--gray-7); /*red;*/
  height: 0.4rem; /*10px;*/
  /* border: solid 2px #dff1ff; */
  border-radius: 0.4rem; /*10px;*/

  width: 100%;
}
input[type="range"]:focus {
  /* outline: 2px solid var(--indigo-3); */
  /* outline-offset: 0.5rem; */
  outline: none;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  background: var(--gray-2); /*var(--indigo-7);*/ /*#53aeff;*/
  width: 1.2rem; /*24px;*/
  height: 1.2rem; /*24px;*/
  border-radius: 50%;
  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.15);
}
input[type="range"]::-moz-range-thumb {
  background: var(--gray-2); /*var(--indigo-7);*/ /*#53aeff;*/
  width: 1.2rem; /*24px;*/
  height: 1.2rem; /*24px;*/
  border-radius: 50%;
  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.15);
  border: none;
}
input[type="range"]:focus::-webkit-slider-thumb {
  background-color: var(--gray-3);
  width: 1.3rem; /*24px;*/
  height: 1.3rem; /*24px;*/
  outline: 2px solid var(--indigo-3);
  outline-offset: 2px;
}
</style>

<style>
/* toggle switch */

/* The switch - the box around the slider */
.switch {
  position: relative;
  display: inline-block;
  width: 3.2rem; /*60px*/
  height: 1.6rem; /*34px*/
}
.switch::after {
  /* margin-left: 100px; */
  position: absolute;
  left: 4rem;
  top: 0.1rem;
  content: "Manually";
  cursor: pointer;
}
/* Hide default HTML checkbox */
.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

/* The slider */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--gray-7); /* #ccc;*/
  /* -webkit-transition: .4s;
  transition: .4s; */
  /* border: solid #898099 2px; */
}

.slider:before {
  position: absolute;
  content: "";
  height: 1.2rem; /*26px;*/
  width: 1.2rem; /*26px;*/
  left: 0.2rem; /*4px;*/
  bottom: 0.2rem; /*4px;*/
  background-color: var(--gray-2); /*white;*/
  -webkit-transition: .2s;
  transition: .2s;

  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.15);
}

input:checked + .slider {
  background-color: var(--indigo-3); /*#2196F3;*/
}

input:focus + .slider {
  /* box-shadow: 0 0 1px #2196F3; */
  outline: 2px solid var(--indigo-3);
}

input:checked + .slider:before {
  -webkit-transform: translateX(1.6rem);
  -ms-transform: translateX(1.6rem);
  transform: translateX(1.6rem);
}

/* Rounded sliders */
.slider.round {
  border-radius: 0.8rem; /*34px;*/
}

.slider.round:before {
  border-radius: 50%;
}

</style>

</head>
<body>
  <div id="map"></div>
  <header>
    <div><h1>GET QUADKEY CONTAINING A RANGE OF SQUARES<!-- Get quadkey containing a range of squares --></h1></div>
    <div id="toggle-dark-and-light" class=""></div>
  </header>
  <main>
    <article>
      <div>
        <div class="grid">
          <div>
            <label>
              <svg class="pin" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path style="stroke:none;stroke-opacity:1;fill:#339af0;fill-opacity:1"
                  d="M 12,0 C 7.802004,0 4,3.4025667 4,7.601562 4,13.844556 10.377002,14.505009 12,24 13.622998,14.505009 20,13.844556 20,7.601562 20,3.4025667 16.198996,0 12,0 Z" />
                <path style="color:#000000;fill:#ffffff;fill-opacity:1"
                  d="M 12 0 C 7.8020082 0 4 3.4025709 4 7.6015625 C 4 13.84455 10.377004 14.505018 12 24 C 13.622996 14.505018 20 13.84455 20 7.6015625 C 20 3.4025709 16.198992 0 12 0 z M 12 1 C 15.658769 1 19 4.0060522 19 7.6015625 C 19 10.382565 17.657331 11.785613 15.84375 13.9375 C 14.532432 15.49343 13.048922 17.409016 12 20.208984 C 10.951078 17.409016 9.4675673 15.49343 8.15625 13.9375 C 6.342669 11.785613 5 10.382565 5 7.6015625 C 5 4.006211 8.3423594 1 12 1 z " />
              </svg>UPPER LEFT
            </label>
          </div>
          <div>
            <input type="text" id="lat1" class="latitude" value="35.6778941" />
          </div>
          <div>
            <input type="text" id="lon1" class="longitude" value="139.714547" />
          </div>
          <div>
            <label>
              <svg class="pin" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path style="stroke:none;stroke-opacity:1;fill:#22b8cf;fill-opacity:1"
                  d="M 12,0 C 7.802004,0 4,3.4025667 4,7.601562 4,13.844556 10.377002,14.505009 12,24 13.622998,14.505009 20,13.844556 20,7.601562 20,3.4025667 16.198996,0 12,0 Z" />
                <path style="color:#000000;fill:#ffffff;fill-opacity:1"
                  d="M 12 0 C 7.8020082 0 4 3.4025709 4 7.6015625 C 4 13.84455 10.377004 14.505018 12 24 C 13.622996 14.505018 20 13.84455 20 7.6015625 C 20 3.4025709 16.198992 0 12 0 z M 12 1 C 15.658769 1 19 4.0060522 19 7.6015625 C 19 10.382565 17.657331 11.785613 15.84375 13.9375 C 14.532432 15.49343 13.048922 17.409016 12 20.208984 C 10.951078 17.409016 9.4675673 15.49343 8.15625 13.9375 C 6.342669 11.785613 5 10.382565 5 7.6015625 C 5 4.006211 8.3423594 1 12 1 z " />
              </svg>LOWER RIGHT
            </label>
          </div>
          <div>
            <input type="text" id="lat2" class="latitude" value="35.676731" />
          </div>
          <div>
            <input type="text" id="lon2" class="longitude" value="139.718574" />
          </div>
        </div>
        <div class="grid2">
          <div>
            <label>
              <svg width="24" height="24" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                <g
                  id="layer1">
                  <rect
                    style="fill:#b197fc;fill-opacity:0.4;stroke:#ffffff;stroke-width:2;stroke-dasharray:none;stroke-opacity:1"
                    width="30" height="30" x="1" y="1" />
                  <rect
                    style="fill:#b197fc;fill-opacity:0.4;stroke:#ffffff;stroke-width:2;stroke-dasharray:none;stroke-opacity:1"
                    width="16" height="16" x="31" y="31" />
                </g>
              </svg>QUADKEY LEVEL
            </label>
          </div>
          <div class="wrapper-toggle-switch">
            <label class="switch">
              <input type="checkbox">
              <span class="slider round"></span>
            </label>
          </div>
          <div class="wrapper-range">
            <input type="range" name="speed" min="0" max="24" />
          </div>
        </div>
        <div class="grid-buttons">
          <div>
            <button id="reset">RESET<!-- Get --></button>
          </div>
          <div>
            <button id="result">GET<!-- Get --></button>
          </div>
        </div>
      </div>
    </article>
    <article>
      <div id="tilesarea"></div>
    </article>
  </main>

  <script src="./js/quadkey.js"></script>
  <script>

    const toggleMode = (isDark = false) => {
      if (isDark) {
        document.documentElement.classList.add("dark");
        
      } else {
        document.documentElement.classList.remove("dark");
        
        
      }
    }
    
    window.matchMedia("(prefers-color-scheme: dark)").addListener(e => {
      toggleMode(e.matches)
    });
    
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      toggleMode(true);
      // document.getElementById("toggle-dark-and-light").classList.remove("icon-light");
      // document.getElementById("toggle-dark-and-light").classList.add("icon-dark");
    } else {
      toggleMode(false);
      // document.getElementById("toggle-dark-and-light").classList.add("icon-light");
      // document.getElementById("toggle-dark-and-light").classList.remove("icon-dark");
    }
    

    // const tdal = document.getElementById("toggle-dark-and-light");
    document.getElementById("toggle-dark-and-light").onclick = () => {
      if (document.documentElement.classList.contains("dark")) {
        // document.getElementById("toggle-dark-and-light").classList.add("icon-light");
        // document.getElementById("toggle-dark-and-light").classList.remove("icon-dark");
        toggleMode(false);
      } else {
        // document.getElementById("toggle-dark-and-light").classList.remove("icon-light");
        // document.getElementById("toggle-dark-and-light").classList.add("icon-dark");
        toggleMode(true);
      }
    }
  </script>
</body>
</html>
